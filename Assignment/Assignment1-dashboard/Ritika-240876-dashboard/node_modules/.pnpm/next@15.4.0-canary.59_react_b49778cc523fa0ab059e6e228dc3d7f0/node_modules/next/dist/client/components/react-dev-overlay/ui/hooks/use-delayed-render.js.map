{"version":3,"sources":["../../../../../../src/client/components/react-dev-overlay/ui/hooks/use-delayed-render.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\n\ninterface Options {\n  enterDelay?: number\n  exitDelay?: number\n  onUnmount?: () => void\n}\n\ntype Timeout = ReturnType<typeof setTimeout>\n\n/**\n * Useful to perform CSS transitions on React components without\n * using libraries like Framer Motion. This hook will defer the\n * unmount of a React component until after a delay.\n *\n * @param active - Whether the component should be rendered\n * @param options - Options for the delayed render\n * @param options.enterDelay - Delay before rendering the component\n * @param options.exitDelay - Delay before unmounting the component\n *\n * const Modal = ({ active }) => {\n * const { mounted, rendered } = useDelayedRender(active, {\n *  exitDelay: 2000,\n * })\n *\n * if (!mounted) return null\n *\n * return (\n *   <Portal>\n *     <div className={rendered ? 'modal visible' : 'modal'}>...</div>\n *   </Portal>\n * )\n *}\n *\n * */\nexport function useDelayedRender(active = false, options: Options = {}) {\n  const [mounted, setMounted] = useState(active)\n  const [rendered, setRendered] = useState(false)\n\n  const { enterDelay = 1, exitDelay = 0 } = options\n  useEffect(() => {\n    let renderTimeout: Timeout | undefined\n    let unmountTimeout: Timeout | undefined\n\n    if (active) {\n      setMounted(true)\n      if (enterDelay <= 0) {\n        setRendered(true)\n      } else {\n        renderTimeout = setTimeout(() => {\n          setRendered(true)\n        }, enterDelay)\n      }\n    } else {\n      setRendered(false)\n      if (exitDelay <= 0) {\n        setMounted(false)\n      } else {\n        unmountTimeout = setTimeout(() => {\n          setMounted(false)\n        }, exitDelay)\n      }\n    }\n\n    return () => {\n      clearTimeout(renderTimeout)\n      clearTimeout(unmountTimeout)\n    }\n  }, [active, enterDelay, exitDelay])\n\n  return { mounted, rendered }\n}\n"],"names":["useDelayedRender","active","options","mounted","setMounted","useState","rendered","setRendered","enterDelay","exitDelay","useEffect","renderTimeout","unmountTimeout","setTimeout","clearTimeout"],"mappings":";;;;+BAmCgBA;;;eAAAA;;;uBAnCoB;AAmC7B,SAASA,iBAAiBC,MAAc,EAAEC,OAAqB;IAArCD,IAAAA,mBAAAA,SAAS;IAAOC,IAAAA,oBAAAA,UAAmB,CAAC;IACnE,MAAM,CAACC,SAASC,WAAW,GAAGC,IAAAA,eAAQ,EAACJ;IACvC,MAAM,CAACK,UAAUC,YAAY,GAAGF,IAAAA,eAAQ,EAAC;IAEzC,MAAM,EAAEG,aAAa,CAAC,EAAEC,YAAY,CAAC,EAAE,GAAGP;IAC1CQ,IAAAA,gBAAS,EAAC;QACR,IAAIC;QACJ,IAAIC;QAEJ,IAAIX,QAAQ;YACVG,WAAW;YACX,IAAII,cAAc,GAAG;gBACnBD,YAAY;YACd,OAAO;gBACLI,gBAAgBE,WAAW;oBACzBN,YAAY;gBACd,GAAGC;YACL;QACF,OAAO;YACLD,YAAY;YACZ,IAAIE,aAAa,GAAG;gBAClBL,WAAW;YACb,OAAO;gBACLQ,iBAAiBC,WAAW;oBAC1BT,WAAW;gBACb,GAAGK;YACL;QACF;QAEA,OAAO;YACLK,aAAaH;YACbG,aAAaF;QACf;IACF,GAAG;QAACX;QAAQO;QAAYC;KAAU;IAElC,OAAO;QAAEN;QAASG;IAAS;AAC7B","ignoreList":[0]}